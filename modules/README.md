На что обрать внимание при разработке интеграций
================================================

Напомню, что wb-rules поддерживает JavaScript в версии ECMAScript 5,
это нужно учитывать при использовании встроенных API. Например, тут не
поддерживаются стрелочные лямбды (`() => {}') и многие современные методы
у `Object` и других встроенных типов.

ES2015 - это более новый стандарт, например, и мы его пока не поддерживаем.


Стиль кодирования
-----------------

Мы (пока) не проверяем здесь стиль кодирования автоматически. Но советую использовать
стиль airbnb, мы приняли его к использованию везде в нашем JS-коде.


Документация
------------

Документировать код рекомендую по правилам JSDoc (https://jsdoc.app/), этот
формат понимают всякие IDE и сразу дают подсказки. Плюс, потом можно будет
срендерить их в какой-нибудь HTML.


Аргументы функций
-----------------

Если у функции предполагается больше одного-двух аргументов, или есть необязательные
аргументы, предпочтительно принимать на вход.

Не забываем проверять входные данные на корректность :)

Можно посмотреть, как это сделано в `CountdownTimerSwitch`.


Управляющие объекты и конструкторы
----------------------------------

У многих компонентов захочется сделать управляющий объект, чтобы можно было из кода
с ним взаимодействовать. Для этого можно определять функции-конструкторы
(по аналогии с `CountdownTimerSwitch`).

Такие компоненты надо будет создавать со словом `new.

Чтобы доопределить методы или поля, дописываем внутри функции что-то к `this`.
К функциям в конце к закрывающей фигурной скобке надо дописать `.bind(this);`,
чтобы получить из этой функции доступ к атрибутам объекта.


```js
exports.MyModule = function(args) {
  this.myMethod = function() {
    // благодаря .bind(this) в конце тут будут доступен this со всеми методами и атрибутами

    if (this.myAttribute === 42) {
      log("42 it is!");
    }
  }.bind(this);

  this.myAttribute = 42;

  // return не нужен, this вернётся сам, если вызвать с new
}

var myModuleInstance = new exports.MyModule(...);
myModuleInstance.myAttribute === 42;  // true
```
